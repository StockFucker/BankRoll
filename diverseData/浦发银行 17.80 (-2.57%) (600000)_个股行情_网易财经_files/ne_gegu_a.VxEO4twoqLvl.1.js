function log(t){if(window.console)console.log(t)}window.isDebug=0;window.compatibility=0;function ntesQuoteDataLoader(options){var options=options||{};var _self=this;options["page"]=options["page"]||0;options["count"]=options["count"]||10;options["type"]=options["type"]||"query";options["page"]=options["page"]||1;options["count"]=options["count"]||25;options["order"]=options["order"]||"desc";for(var k in options){_self[k]=options[k]}this.debug=1;this.pagecount=0;this.total=0;this.list=[];this.onload=function(t){};this.load=function(){var params=ntesQuoteDataUtils.copyMap(options);var host=window.location.host+"";if(ntesQuoteDataUtils.getUrlHost(_self.host)&&ntesQuoteDataUtils.getUrlHost(host)==ntesQuoteDataUtils.getUrlHost(_self.host)&&!params["callback"]){function success(t){_self.page=t.page;_self.total=t.total;_self.count=t.count;_self.pagecount=t.pagecount;_self.order=t.order;_self.list=t.list;_self.onload(_self)}if(this.initData&&!this.initData.inited){success(this.initData);this.initData.inited=true}else{if(typeof jQuery!="undefined"){jQuery.getJSON(_self.host,params,success)}else if(typeof NTES!="undefined"){NTES.ajax.send(_self.host,"GET",params,{onSuccess:function(xhr){success(eval("("+xhr.responseText+")"))}})}}}else{var callback=params["callback"];if(!callback){var sParam=ntesQuoteDataUtils.composeParams(params);var sCallback=ntesQuoteDataUtils.hashCode(sParam,true);callback="callback_"+sCallback;params["callback"]=callback}var now=new Date;var time=now.getDay()+""+now.getHours()+""+now.getMinutes();params["req"]=time;window[callback]=function(t){_self.page=t.page;_self.total=t.total;_self.count=t.count;_self.pagecount=t.pagecount;_self.order=t.order;_self.list=t.list;_self.onload(_self)};if(this.initData&&!this.initData.inited){window[callback](this.initData);this.initData.inited=true}else{var h;if(_self.debug)h=_self.host;else h=" http://quotes.money.163.com"+_self.host;ntesQuoteDataUtils.importJs(h+"?"+ntesQuoteDataUtils.composeParams(params),"gbk")}}};this.gotopage=function(t){if(t>=0&&t<=_self.pagecount-1){_self.page=t;this.load();return true}else{return false}};this.next=function(){return _self.gotopage(_self.page+1)};this.prev=function(){return _self.gotopage(_self.page-1)};this.first=function(){return _self.gotopage(0)};this.last=function(){return _self.gotopage(_self.pagecount-1)}}ntesQuoteDataUtils={getUrlHost:function(t){if(t.indexOf("http://")!=-1)t=t.substring(7);var e=[".com",".net",".cn",".org",".com.cn"];var n="";for(var r=0;r<e.length;r++){n=e[r];if(t.indexOf(n)!=-1){return t.substring(0,t.indexOf(n))+n}}},format:function(t,e){var n=arguments;var r=/{(.+?)}/g;if(typeof e=="object"){if(Object.prototype.toString.call(e)==="[object Array]"){var a="";for(var o=0;o<e.lenth;o++){a+=ntesQuoteDataUtils.format(t,e[o])}return a}var a=t.replace(r,function(t,n){return e[n]==undefined?t:e[n]});return a}else{return t.replace(r,function(t,e){return n[parseInt(e)+1]==undefined?t:n[parseInt(e)+1]})}},finc_format:function(t,e){if(isNaN(parseFloat(t)))return t;if(t>1e12||t<-1e12){return this.num_format(t/1e12,e||2,4,"")+"\u4e07\u4ebf"}else if(t>1e8||t<-1e8){return this.num_format(t/1e8,e||2,5,"")+"\u4ebf"}else if(t>1e5||t<-1e5){return this.num_format(t/1e4,e||2,5,"")+"\u4e07"}else{return this.num_format(t,e||0,null,"")}},num_format:function(e,n,r,a){if(typeof a=="undefined")split=",";n=n>=0&&n<=20?n:2;var o=e<0?e*-1:e*1;o=parseFloat((o+"").replace(/[^\d\.-]/g,"")).toFixed(n)+"";var s=o.split(".")[0].split("").reverse(),l=o.split(".")[1];t="";for(i=0,len=s.length;i<len;i++){t+=s[i]+((i+1)%3==0&&i+1!=s.length?a:"")}if(r&&s.length>=r){n=0}else if(r&&o.length>r){if(n==1||n==o.length-r)n=0;if(n>1)l=l.substr(0,l.length-(o.length-r))}return(e<0?"-":"")+t.split("").reverse().join("")+(n>0?"."+l:"")},composeParams:function(t){var e="",n=true;for(var r in t){if(!t[r])continue;if(!n)e+="&";e+=r+"="+t[r];n=false}return e},importJs:function(t,e,n,r){var a=document.getElementsByTagName("head")[0]||document.documentElement;var o=document.createElement("script");o.type="text/javascript";e&&(o.charset=e);var i=false;o.onload=o.onreadystatechange=function(){if(!i&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){i=true;if(typeof n=="function"){n(r)}a.removeChild(this)}};o.src=t;a.insertBefore(o,a.firstChild)},hashCode:function(t,e){if(!e){t=t.toLowerCase()}var n=1315423911,r,a;for(r=t.length-1;r>=0;r--){a=t.charCodeAt(r);n^=(n<<5)+a+(n>>2)}return n&2147483647},extend:function(t,e){var n=function(){};n.prototype=e.prototype;t.prototype=new n;t.prototype.constructor=t;t.superclass=e.prototype;if(e.prototype.constructor==Object.prototype.constructor){e.prototype.constructor=e}},get:function(t){return typeof t=="string"?document.getElementById(t):t},find:function(t){var e=t.css,n=t.attr,r=t.attrValue,a=[];var o=ntesQuoteDataUtils.get(t.parent);if(!o)return;var i=o.getElementsByTagName(t.tag||"*");var s=new RegExp("(^|\\s)"+e+"(\\s|$)");for(var l=0,u=i.length;l<u;l++){var c=i[l];if(e&&c.className!=e&&!c.className.match(s))continue;if(n&&!r&&!c.getAttribute(n))continue;if(n&&r&&c.getAttribute(n)!=r)continue;a.push(c)}return a},toMeta:function(t){t=t.replace(/javascript:/g,"javascirpt%colon%");var e=t.split(/[:;]/);var n={};for(var r=0;r<e.length;r+=2){n[e[r]]=e[r+1]?e[r+1].replace(/javascirpt%colon%/g,"javascript:"):e[r+1]}return n},getMapValue:function(t,e){var n=t[e];if(e.indexOf(".")!=-1){var r=e.split(".");var a=t;for(var o=0,i=r.length;o<i;o++){if(a)a=a[r[o]]}n=a}return n},copyMap:function(t,e){e=e||{};for(var n in t){e[n]=t[n]}return e},widthString:function(t,e){if(!t)return t;var n=e*2,r=0,a=0;for(var o=t.length;a<o;a++){var i=t.charCodeAt(a)>0&&t.charCodeAt(a)<255?1:2;if(r+i>n){break}r+=i}return t.substr(0,a)},getParameter:function(t){var e=new RegExp("(^|)"+t+"=([^&]*)(&|$)","gi").exec(location.href);return e?unescape(e[2]):null},trim:function(t){return t.replace(/(^\s*)|(\s*$)/g,"")},isArray:function(t){return Object.prototype.toString.call(t)==="[object Array]"},isIE:function(){var t=navigator.userAgent.toLowerCase();return/msie/.test(t)&&!/opera/.test(t)}(),cssColor:function(t){return t>0?"cRed":t<0?"cGreen":""},hasClass:function(t,e){var n=t.className.split(" ");for(var r=0;r<n.length;r++){if(n[r]===e)return true}return false},addClass:function(t,e){if(ntesQuoteDataUtils.hasClass(t,e))return;else t.className=t.className+" "+e;return t},removeClass:function(t,e){var n=t.className.split(" "),r=[];for(var a=0;a<n.length;a++){if(n[a]&&n[a]!==e)r.push(n[a])}t.className=r.join(" ");return t}};function ntesQuoteData(t){this.tableId=t;this.table;this.tableMetas={};this.dataType;this.quoteDataLoader;this.timer=null;this.timeout=5e3;this._init()}!function(t,e){t.QUOTE_DATA_ATTR="_quotedata_";t.QUOTE_DATA_QUERY_ATTR="_quotedata_query_";t.MINOR_QUOTE_DATA_ATTR="_minorquotedata_";t.DATA_TYPE="DataType";t.cRed="cRed";t.cGreen="cGreen";t.colorExp=new RegExp("\\b(cRed)\\b|\\b(cGreen)\\b","g");t.bgchgExp=new RegExp("\\b(upbg)\\b|\\b(downbg)\\b","g");t.bgTRcolor="bg-cGrey";t.bgTRindex=1;var n={};t.addFormatHandler=function(t,e){n[t]=e};t.getFormatHandler=function(t){return n[t]};var r={};t.addQuoteDataLoader=function(t,e){r[t]=e};t.getQuoteDataLoader=function(t){return r[t]};t.dataTimer={};t.addTimer=function(e,n){t.dataTimer.addTimer(e,n)};t.setTimer=function(e,n){t.dataTimer.setTimer(e,n)};t.extendsTimer=function(e,n,r){t.dataTimer.extendsTimer(e,n,r)};var a={};t.load=function(t,e,n){if(a[t]){a[t].stop()}var r=new ntesQuoteData(t);a[t]=r;r.load(e,n,t)};t.loadAll=function(e,n,r){var a=t._getTables(e);var o={i:0};var i={};var s=function(t,e){if(i[e]==null)i[e]=t;if(++o.i==a.length&&r)r(i)};for(var l=0,u=a.length;l<u;l++){var c=a[l];var f=c.id;t.load(f,n,s)}};t.stopAll=function(t){for(var e in a){a[e].stop()}};t._getTables=function(n){var r=[];if(e.isArray(n)){for(var a=0,o=n.length;a<o;a++)r[r.length]=e.get(n[a])}else{r=e.find({parent:e.get(n)||document.body,attr:t.QUOTE_DATA_ATTR})}return r};t.get=function(t){return a[t]}}(ntesQuoteData,ntesQuoteDataUtils);!function(t,e,n){e._init=function(){this.table=n.get(this.tableId);this.refresh()};e.refresh=function(){this._loadTableMetas();t.dataTimer.clearLastOnTime(this.dataType,this.tableId);return this};e._loadTableMetas=function(){var e=this.table.getAttribute(t.QUOTE_DATA_QUERY_ATTR);var r=this.table.getAttribute(t.QUOTE_DATA_ATTR);var a=n.toMeta(r);var o=[];var i=n.find({parent:this.table,tag:"th"});for(var s=0,l=i.length;s<l;s++){var u=i[s];var c=u.getAttribute(t.MINOR_QUOTE_DATA_ATTR);if(!c)continue;var f=n.toMeta(c);o.push(f["attr"])}var d=o.join(",");var h={};h["query"]=e;h["meta"]=a;h["fields"]=d;this.tableMetas=h;this.dataType=a[t.DATA_TYPE];if(typeof this.dataType=="undefined")return;this.quoteDataLoader=t.getQuoteDataLoader(this.dataType)(this.table,e,a,d)};e.loadOnce=function(e,n){if(!t.dataTimer.isOnTime(this.dataType,this.tableId)){return}if(this.quoteDataLoader){var r=this;this.quoteDataLoader.onload=function(t){r.defaultTableBuilder(t.list);if(typeof e=="function"){e(t,n)}if(typeof r.quoteDataLoader.afterload=="function"){r.quoteDataLoader.afterload(t,n)}};this.quoteDataLoader.load()}return this};e.load=function(t,e,n){if(t)this.timeout=t*1;if(this.timer){window.clearTimeout(this.timer);this.timer=null}this.loadOnce(e,n);var r=this;this.timer=window.setTimeout(function(){r.load()},r.timeout);return this};e.stop=function(){window.clearTimeout(this.timer)};function r(e){e.className=e.className.replace(t.colorExp,"");e.innerHTML=""}e.defaultTableBuilder=function(e){try{if(!e)return;var r=this.tableMetas["meta"];var a=n.find({parent:this.table,tag:"th"});var o=e.length;if(!a||a.length==0)return;var i=[];for(var s=0,l=a.length;s<l;s++){var u=a[s].getAttribute(t.MINOR_QUOTE_DATA_ATTR);if(!u){i.push(null);continue}var c=n.toMeta(u);i.push(c)}var f=document.createDocumentFragment();var d=this.table.getElementsByTagName("tbody")[0],h=document.createElement("tbody");var p=document.createElement("tr"),m=document.createElement("td");var s=0,g=r["count"];while(s<g){var v=p.cloneNode(true);if(s<o)f.appendChild(v);else{break}if(s%2==(r["bg-index"]||t.bgTRindex))v.className+=" "+t.bgTRcolor;var y=0,b=i.length;while(y<b){var _=m.cloneNode(true);if(!i[y]){y++;continue}var T=e[s];if(T){(t.getFormatHandler(i[y]["fmt"])||this.defaultFormatHandler)(_,i[y],T,this)}v.appendChild(_);y++}s++}h.appendChild(f);if(d){this.table.replaceChild(h,d)}else{this.table.appendChild(h)}}catch(k){if(typeof console!="undefined"&&console.error){console.error(k)}}};e.defaultFormatHandler=function(t,e,r,a){if(!r)return;var o=e["attr"];if(!o&&!e["default"])return;var i=n.getMapValue(r,o||"");if(o=="LOW"&&parseInt(i)>=99990){t.innerHTML="\u505c\u724c";return}var s;if(i!=0&&!i){if(e["default"]){s=e["default"]}}else{if(e["*"])i=i*e["*"];if(e["/"])i=i/e["/"];if(e["fixed"]){s=isFinite(i)?(i*1).toFixed(e["fixed"]):"-"}else if(e["percent"]){s=(i*100).toFixed(e["percent"])+"%"}else{s=i}}if(e["num"]){if(e["num"]=="encode"){s=n.finc_format(i)}}if(e["class"]){t.className=e["class"]}if(e["title"]){var l=n.getMapValue(r,e["title"]);t.setAttribute("title",l)}if(e["color"]){var u=n.getMapValue(r,e["color"]);if(u){var c=n.cssColor(u);t.className=t.className.replace(ntesQuoteData.colorExp,"")+" "+c}}if(e["colorcmp"]){var f=n.getMapValue(r,e["colorcmp"]);if(f){var c=n.cssColor(i-f);t.className=t.className.replace(ntesQuoteData.colorExp,"")+" "+c}}if(e["maxlen"]){t.setAttribute("title",s);s=n.widthString(s,e["maxlen"])}var d=e["sign"]||"";if(e["link"]){if(e["link"].indexOf("http")==-1&&e["link"].indexOf("#")!=0){e["link"]="http://"+e["link"]}var h={};if(e["linkvalue"]){var p=e["linkvalue"].split(",");for(var m=0,g=p.length;m<g;m++){h[m]=n.getMapValue(r,p[m])}}var v=decodeURIComponent(n.format(e["link"],h))+d;if(s){s=n.format('<a href="{0}" target="{1}" class="{3}">{2}</a>',v,e["target"]||"_blank",s,e["class"]||"")}else{s=undefined}}if(e["linkurl"]){s=n.format('<a href="{0}" target="{1}" class="{3}">{2}</a>',r[e["linkurl"]]+d,e["target"]||"_blank",s,e["class"]||"")}t.innerHTML=s?s:s===0?0:"-";if(e["onclick"]){var h={};var p=e["clickvalue"].split(",");for(var m=0,g=p.length;m<g;m++){h[m]=n.getMapValue(r,p[m])}var y=n.format(e["onclick"],h);(t.getElementsByTagName("a")[0]||t).onclick=new Function(y)}}}(ntesQuoteData,ntesQuoteData.prototype,ntesQuoteDataUtils);!function(t){t.items={};t.lastOnTime={};t.addTimer=function(e,n){if(typeof n=="function"){if(!t.items[e])t.items[e]=[];t.items[e].push(n)}};t.setTimer=function(e,n){if(typeof n=="function"){t.items[e]=[n]}};t.extendsTimer=function(e,n,r){if(typeof r=="function"){var a=[];if(t.items[n]){for(var o=0,i=t.items[n].length;o<i;o++)a.push(t.items[n][o])}a.push(r);t.items[e]=a}};t._getOnTimeId=function(t,e){return t+"_"+e};t.isOnTime=function(e,n){if(!n)n="id";var r=t._getOnTimeId(e,n);if(!t.lastOnTime[r]){t.lastOnTime[r]=new Date;return true}var a=new Date;var o=t.lastOnTime[r];var i=a.getDay();var s=a.getHours();var l=a.getMinutes();var u=a.getSeconds();var c=(i-o.getDay())*24*3600+(s-o.getHours())*3600+(l-o.getMinutes())*60+(u-o.getSeconds())*1;var f=false;if(!t.items[e]){f=t.items["DEFAULT"][0](c,i,s,l,u)}else{for(var d=0,h=t.items[e].length;d<h;d++){f=t.items[e][d](c,i,s,l,u);if(!f)break}}if(f)t.lastOnTime[r]=a;return f};t.clearLastOnTime=function(e,n){if(e){var r=t._getOnTimeId(e,n);t.lastOnTime[r]=null}else{t.lastOnTime={}}}}(ntesQuoteData.dataTimer);ntesQuoteData.addTimer("DEFAULT",function(t,e,n,r,a){if((n>=9&&n<12||n>=13&&n<16)&&e>=1&&e<=5)return true});ntesQuoteData.extendsTimer("HS_RANK","DEFAULT",function(t,e,n,r,a){if(t>=50)return true});ntesQuoteData.extendsTimer("HS_RADAR","DEFAULT",function(t,e,n,r,a){if(t>=5)return true});ntesQuoteData.extendsTimer("HS_PLATE","DEFAULT",function(t,e,n,r,a){if(t>=50)return true});ntesQuoteData.addTimer("HS_UVSNEWS",function(t,e,n,r,a){if(t>=5*60)return true});ntesQuoteData.extendsTimer("HK_RANK","DEFAULT",function(t,e,n,r,a){if(t>=50)return true});ntesQuoteData.addQuoteDataLoader("HS_RANK",function(t,e,n,r){var a=["PRICE","SNAME","SYMBOL","CODE","ANNOUNMT","UVSNEWS"];var o=r.split(",");for(var i=0;i<a.length;i++){if(o.indexOf(a[i])==-1)o[o.length]=a[i]}return new ntesQuoteDataLoader({host:"http://quotes.money.163.com/hs/service/diyrank.php",page:n["page"]||0,query:e,fields:o.join(","),sort:n["sort"]||"PERCENT",order:n["order"]||"desc",count:n["count"]||5})});ntesQuoteData.addQuoteDataLoader("HS_RADAR",function(t,e,n,r){return new ntesQuoteDataLoader({host:"http://quotes.money.163.com/hs/service/marketradar_ajax.php",page:n["page"]||0,query:e,types:n["types"]||"",count:n["count"]||5})});ntesQuoteData.addQuoteDataLoader("HS_UVSNEWS",function(t,e,n,r){return new ntesQuoteDataLoader({host:"http://quotes.money.163.com/hs/service/stocknews_ajax.php",page:n["page"]||0,query:e,count:n["count"]||15})});ntesQuoteData.addQuoteDataLoader("HS_PLATE",function(t,e,n,r){r+=",TYPECODE,PLATECODE,MAXPERCENTSTOCKOBJ";return new ntesQuoteDataLoader({host:"http://quotes.money.163.com/hs/service/quotedata_ajax.php",page:n["page"]||0,query:e,fields:r,sort:"PERCENT",order:"desc",count:n["count"]||5,"max-age":60,db:"finance",table:"plate"})});ntesQuoteData.addQuoteDataLoader("HK_RANK",function(t,e,n,r){return new ntesQuoteDataLoader({host:"http://quotes.money.163.com/hk/service/quotedata_ajax.php",page:n["page"]||0,query:e,fields:r,sort:n["sort"]||"PERCENT",order:n["order"]||"DESC",count:n["count"]||5,type:n["type"]||"query","max-age":60,db:"hkstock",table:"hkstocks"})});ntesQuoteData.addFormatHandler("stock-news",function(t,e,n,r){if(!n)return;t.style.overflow="visible";r.defaultFormatHandler(t,e,n);var a=t.innerHTML;var o='<div>{0}<a href="{1}" target="_blank" class="{2}" title="{3}"></a></div>';if(n["ANNOUNMT"]){var i=ntesQuoteDataUtils.format("http://quotes.money.163.com/f10/ggnr_{0},{1}.html",n["SYMBOL"],n["ANNOUNMT"][0]["ANNOUNMTID"]);o=ntesQuoteDataUtils.format(o,a,i,"stock-notice",n["ANNOUNMT"][0]["ANNOUNMT2"])}else if(n["UVSNEWS"]){o=ntesQuoteDataUtils.format(o,a,n["UVSNEWS"][0]["URL"],"stock-news",n["UVSNEWS"][0]["TITLE"])}else{return}t.innerHTML=o});ntesQuoteData.addFormatHandler("volume-cut",function(t,e,n,r){r.defaultFormatHandler(t,e,n);n[e["attr"]]=n[e["attr"]]/100;if(n[e["attr"]]>1e8){t.innerHTML=(n[e["attr"]]/1e8).toFixed(2)+"\u4ebf"}else if(n[e["attr"]]>1e4){t.innerHTML=(n[e["attr"]]/1e4).toFixed(2)+"\u4e07"}else{t.innerHTML=n[e["attr"]].toFixed(0)}});ntesQuoteData.addFormatHandler("turnover-cut",function(t,e,n,r){r.defaultFormatHandler(t,e,n);if(Math.abs(n[e["attr"]])>1e8){t.innerHTML=(n[e["attr"]]/1e8).toFixed(2)+"\u4ebf"}else if(Math.abs(n[e["attr"]])>1e4){t.innerHTML=(n[e["attr"]]/1e4).toFixed(2)+"\u4e07"}else{t.innerHTML=n[e["attr"]]}});[].indexOf||(Array.prototype.indexOf=function(t){for(var e=this.length;e--&&this[e]!==t;);return e});function ntesQuoteLoader(t){this.address="http://api.money.126.net/data/feed/"}function ntesQuote(t){this.timer=null;this._codes=[];this._quoteCodes=[];this._dataList=null;this._elemsMap={};this.inited=false;this._init(t)}!function(t,e){var n={};var r=new RegExp("\\b(cRed)\\b|\\b(cGreen)\\b","g");var a=new RegExp("\\b(upbg)\\b|\\b(downbg)\\b","g");t.address="http://api.money.126.net/data/feed/";t.version=2;t.quoteMark="_ntesquote_";t.minorMark="_minorquote_";t.cronCache={};t.intervalCache={};t.typeTimeMap={};t.jcron={},t.beforeHandler={};t.formatHandlers={"default":function(t,n,a,o){if(!o){a.innerHTML="--";return}var i=n["attr"];if(!i)return;var s=e.getMapValue(o,i);var l;if(s!=0&&!s){if(n["default"]){l=n["default"]}}else{if(n["*"]){s=s*n["*"]}if(n["/"]){s=s/n["/"]}if(n["fixed"]){if(isFinite(s)){if(s*1<1)n["fixed"]=n["fixed"]<2?2:n["fixed"];l=(s*1).toFixed(n["fixed"])}else{l="-"}}else if(n["percent"]){l=(s*100).toFixed(n["percent"])+"%"}else{l=s}}if(n["color"]){var u=o[n["color"]];if(u){var c=e.cssColor(u);a.className=a.className.replace(r,"");e.addClass(a,c)}}if(n["colorcmp"]){var f=e.getMapValue(o,n["colorcmp"]);if(f){var c=e.cssColor(s-f);a.className=a.className.replace(ntesQuoteData.colorExp,"")+" "+c}}if(n["bgchg"]){var d=n["preQuoteMap"];if(d){var i=n["bgchg"];var h=o[i];var p=d[i];if(h&&p&&h!=p){e.removeClass(a,"upbg");e.removeClass(a,"downbg");h>p&&e.addClass(a,"upbg");h<p&&e.addClass(a,"downbg");var m=(n["timeout"]||1500)*1;window.setTimeout(function(){e.removeClass(a,"upbg");e.removeClass(a,"downbg")},m)}}}if(n["maxlen"]){a.setAttribute("title",l);l=e.widthString(l,n["maxlen"])}if(n["title"]){a.setAttribute("title",o[n["title"]])}if(n["link"]){var g=decodeURIComponent(e.format(n["link"],o[n["linkvalue"]]));l=e.format('<a href="{0}" target="{1}">{2}</a>',g,n["target"],l)}if(n["class"]){a.className=n["class"]}a.innerHTML=l?l:l===0?0:"--"}};function o(t){var n=t;if(!t)n="*";if(e.isArray(t))n=t.join("-");return n}t.loadOnce=function(t){var e=o(t);if(n[e])n[e].stop();n[e]=new ntesQuote(t);n[e].loadOnce()};t.load=function(t,e,r){var a=o(t);if(n[a]){n[a].stop()}n[a]=new ntesQuote(t);n[a].load(e,r)};t.loadAll=function(e,n,r){t.load(e,n,r)};t.loadData=function(e,n,r){t.load(e,n,r)};t.addQuoteLoader=function(t,e){};t.setCrontab=function(e,n){if(!n&&t.cronCache[e]){delete t.cronCache[e];return true}try{var r=t.jcron.parseCrontab(e,n);if(!r.minute||!r.hour||!r.week){return false}else{t.cronCache[e]=n;return true}}catch(a){return false}};t.setInterval=function(e,n){if(!n&&t.intervalCache[e]){delete t.intervalCache[e];return true}t.intervalCache[e]=n;return true};t.isMatchInterval=function(t,e,n){if(e&&n){if(t.getTime()-e.getTime()<n*1e3){return false}}return true};t.stopAll=function(){for(var t in n){n[t].stop()}};t.addFormatHandler=function(e,n){t.formatHandlers[e]=n};t.addBeforeHandler=function(e,n){t.beforeHandler[e]=n};t.importJs=e.importJs;t.refresh=function(t){var e=o(t);if(n[e]){n[e]._fillElems(t);n[e].stop()}else{n[e]=new ntesQuote(t)}return n[e]};t.getCodes=function(t){var e=o(t);if(n[e]){return n[e]._codes}};t.getQuote=function(t){for(var e in n){if(n[e]._elemsMap[t]){return n[e]._elemsMap[t][0]["quoteData"]}}};t.getQuoteObject=function(t){return n[o(t)]};t.getPreQuote=function(t){for(var e in n){if(n[e]._elemsMap[t]){return n[e]._elemsMap[t][0]["preQuoteMap"]}}};t.find=e.find;t.toMeta=e.toMeta;t.formatString=e.format;t.defaultElementRender=function(e,n,r,a){try{var o=n["before"];if(o&&t.beforeHandler[o]){t.beforeHandler[o](e,n,r,a)}var i=n["fmt"]||"default";t.formatHandlers[i](e,n,r,a)}catch(s){if(typeof console!="undefined"&&console.error){}}}}(ntesQuote,ntesQuoteDataUtils);!function(t,e,n){e._init=function(t){this._fillElems(t)};e._fillElems=function(e){var r=this;if(!n.isArray(e))e=[e];var a=e.length;while(a--){var o=ntesQuoteDataUtils.find({parent:e[a]||document.body,attr:t.quoteMark});if(o){var i=o.length;while(i--){var s=o[i].getAttribute(t.quoteMark);s=ntesQuoteDataUtils.toMeta(s);s["element"]=o[i];if(s["code"]){if(r._elemsMap[s["code"]]){r._elemsMap[s["code"]].push(s)}else{r._codes.push(s["code"]);r._elemsMap[s["code"]]=[s]}}}}}};e.loadOnce=function(){this.load(0);this.stop()};e.load=function(e,r){var a=this;var o=[];var i=new Date;e=e||3*1e3;var s=a._codes.length;while(s--){var l=a._codes[s],u=a._elemsMap[l];if(!u||!u["type"]||!t.cronCache[u["type"]]&&!t.intervalCache[u["type"]]){o.push(l)}else{var c=t.cronCache[u["type"]];var f=t.intervalCache[u["type"]];if(t.jcron.isMatch(i,u["type"],c)&&t.isMatchInterval(i,t.typeTimeMap[u["type"]],f)){o.push(l);t.typeTimeMap[u["type"]]=i}}}if(o.length==0)return;var d=i.getDay()+""+i.getHours()+""+i.getMinutes();var h=parseInt(Math.random()*1e8);if(compatibility)h="";window["_ntes_quote_callback"+h]=function(e){if(a.beforePageRending){a.beforePageRending()}a.defaultPageRender(e,t.defaultElementRender);if(a.afterPageRending){for(var n=0;n<a.afterPageRending.length;n++)a.afterPageRending[n](e)}window["_ntes_quote_callback"+h]=null};if(window.isDebug){if(o.length<200||!t.isIE){n.importJs("./getapi.php?address="+t.address+o.join(",")+",money.api&callback=_ntes_quote_callback"+h,"utf-8")}else{for(var p=0,m=o.length;p<m;p+=200){n.importJs("./getapi.php?address="+t.address+o.join(",")+",money.api&callback=_ntes_quote_callback"+h,"utf-8")}}}else{if(o.length<200||!t.isIE){n.importJs(t.address+o.join(",")+",money.api?callback=_ntes_quote_callback"+h,"utf-8")}else{for(var p=0,m=o.length;p<m;p+=200){n.importJs(t.address+o.slice(p,p+200).join(",")+",money.api?callback=_ntes_quote_callback"+h,"utf-8")}}}a.timer=setTimeout(function(){var t=(new Date).getHours();if(t>=9&&t<=12||t>=12&&t<=16||t>=21||t<=5){a.load(e)}},e);if(typeof r=="function")r()};e.loadData=function(t,e){this.load(t,e)};e.stop=function(){clearTimeout(this.timer)};e.defaultPageRender=function(t,e){var n=this;n._dataList=t;var r=n._codes.length;while(r--){var a=n._codes[r];var o=n._elemsMap[a];var i=t[a];var s=o.length;while(s--){var l=o[s];l["quoteData"]=i;e(a,l,l["element"],i);l["preQuoteMap"]=l["quoteData"]}}};e.setBeforRender=function(t){e.beforePageRending=t};e.setAfterRender=function(t){if(Object.prototype.toString.call(e.afterPageRending)!="[object Array]")e.afterPageRending=[];e.afterPageRending.push(t)}}(ntesQuote,ntesQuote.prototype,ntesQuoteDataUtils);!function(t){t.cache={};function e(t,e,n,r,a){var o={};if(t.indexOf("/")!=-1){var i=parseInt(t.split("/")[1]);ntesQuote.setInterval(r,i*a);return null}var s=t.split(",");for(var l=0,u=s.length;l<u;l++){var c=null,f=null,i=null;var d=s[l].split(/-|\//g);if(d[0]=="*"){c=e;f=n;if(d.length>1&&isNaN(d[1]))return null;i=d.length>1?d[1]*1:1}else{if(isNaN(d[0]))return null;c=d[0]*1;if(d.length>1&&isNaN(d[1]))return null;f=d.length>1?d[1]*1:c;if(d.length>2&&isNaN(d[2]))return null;i=d.length>2?d[2]*1:1}for(var h=c;h<=f;h+=i){if(o[h])continue;o[h]=true}}return o}t.parseCrontab=function(n,r){if(t.cache[r])return t.cache[r];var a=r.split(/[ \t]+/g);t.cache[r]={second:a.length>0?e(a[0],0,59,n,1):null,minute:a.length>0?e(a[1],0,59,n,60):null,hour:a.length>1?e(a[2],0,23,n,60*60):null,week:a.length>2?e(a[3],0,6,n,60*60*24):null};return t.cache[r]};t.isMatch=function(e,n,r){if(r){var a=t.parseCrontab(n,r);if(a.week&&!a.week[e.getDay()]){return false}else if(a.hour&&!a.hour[e.getHours()]){return false}else if(a.minute&&!a.minute[e.getMinutes()]){return false}}return true}}(ntesQuote.jcron);ntesQuote.setCrontab("SH","* * 9-11,13-15 1-5");ntesQuote.setCrontab("SZ","* * 9-11,13-15 1-5");ntesQuote.setCrontab("RANK","* * 9-11,13-15 1-5");ntesQuote.setCrontab("FU","* * 9-11,13-15 1-5");ntesQuote.setCrontab("HK","* * 10-11,13-16 1-5");ntesQuote.setCrontab("US","*/10 * 21-23,0-5 1-6");ntesQuote.setCrontab("FG","* */15 * *");ntesQuote.setCrontab("USUD","* */2 21-23,0-5 1-6");ntesQuote.addBeforeHandler("decode",function(t,e,n,r){if(!r)return;var a=e["attr"];if(!a)return;var o=r[a];if(!o)return;r[a]=decodeURIComponent(o)});ntesQuote.addBeforeHandler("arrow",function(t,e,n,r){if(!r)return;var a=e["attr"];if(!a)return;var o=e["_arrowby"];if(!o)return;var i=r[o];if(!i)return;r[a]=i>0?"\u2191":i<0?"\u2193":"\u3000"});!function(t,e,n){ntesQuote.addFormatHandler("hstrend",function(t,e,n,r){if(!r)return;var a=ntesQuote.getPreQuote(t);if(!a)return;var o=e["_arrowby"];if(!o)return;var i=r[o];if(!i)return;var s=a[o];if(!s)return;n.innerHTML=i>s?"\u2191":i<s?"\u2193":"\u3000";n.className=ntesQuote.cssColor(i-s);var l=(e["timeout"]||1500)*1;window.setTimeout(function(){n.innerHTML="\u3000";n.className=""},l)});ntesQuote.addFormatHandler("table",function(t,e,n,r){if(!r)return;var a=ntesQuote.find({parent:n,tag:"th",attr:ntesQuote.minorMark});if(!a||a.length==0)return;var o=[];for(var i=0;i<a.length;i++){var s=ntesQuote.toMeta(a[i].getAttribute(ntesQuote.minorMark));if(s["link"]){s["sign"]=e["sign"]||""}o.push(s)}var l=n.getElementsByTagName("tbody")[0];var u=ntesQuote.find({parent:l,tag:"tr"});for(var i=0;i<u.length&&i<r.list.length;i++){var c=r.list[i];for(var f=0;f<o.length;f++){ntesQuote.defaultElementRender(null,o[f],u[i].cells[f],c)}}});ntesQuote.addFormatHandler("time",function(t,e,n,r){if(!r)return;var a=e["attr"];if(!a)return;var o=r[a];if(!o)return;var i=new Date(o);var s=e["timefmt"];var l=s.replace("yyyy",i.getFullYear()).replace("MM",i.getMonth()+1).replace("dd",i.getDate()).replace("HH",i.getHours()).replace("mm",i.getMinutes()).replace("ss",i.getSeconds());n.innerHTML=l});ntesQuote.addFormatHandler("rankmainpage",function(t,e,n,r){if(!r)return;var a=ntesQuote.find({parent:n,tag:"th",attr:ntesQuote.minorMark});if(!a||a.length==0)return;var o=[];for(var i=0,s=a.length;i<s;i++){var l=ntesQuote.toMeta(a[i].getAttribute(ntesQuote.minorMark));o.push(l)}var u=n.getElementsByTagName("tbody")[0];var c=ntesQuote.find({parent:u,tag:"tr"});var f=r["list"]||r["LIST"];for(var i=0;i<c.length&&i<f.length;i++){var d=f[i];for(var h=0,p=o.length;h<p;h++){if(o[h]["attr"]=="none")continue;ntesQuote.defaultElementRender(null,o[h],c[i].cells[h],d)}if(d["uvsnews"]&&d["uvsnews"].length>0){url=d["uvsnews"][0]["url"];title=d["uvsnews"][0]["title"];if(url){var m=c[i].cells[1].innerHTML;m=ntesQuote.formatString("<div>{0}<a target='_blank' href='{1}' title='{2}' class='stock-news'></a></div>",m,url,title);c[i].cells[1].innerHTML=m}}else if(d["announmt"]&&d["announmt"].length>0){announmtid=d["announmt"][0]["announmtid"];announmt2=d["announmt"][0]["announmt2"];if(announmtid){var m=c[i].cells[1].innerHTML;m=ntesQuote.formatString('<div>{0}<a target="_blank" href="http://quotes.money.163.com/f10/ggnr_{1},{2}.html" title="{3}" class="stock-notice"></a></div>',m,d["symbol"],announmtid,announmt2);c[i].cells[1].innerHTML=m}}}});ntesQuote.addFormatHandler("pic_updown",function(t,e,r,a){if(!a)return;var o=a["updown"]>0?"up":a["updown"]<0?"down":"";n.removeClass(r,"up");n.removeClass(r,"down");n.addClass(r,o)});ntesQuote.addFormatHandler("profitrate",function(t,e,n,r){if(!r)return;var a=e["hold"]*1||0;var o=e["cost"]*1||0;var i=e["actualProfit"]*1||0;var s=e["totalBuySpendBalance"]*1||0;var l=e["recordcount"]*1||0;if(l==0||s==0){n.innerHTML="--"}else{var u=a*(r["price"]-o);var c=s&&(u+i)*100/s||0;n.innerHTML=c.toFixed(2)+"%";n.className=c>0?"cRed":c<0?"cGreen":""}});ntesQuote.addFormatHandler("fnProfitrate",function(t,e,n,r){if(!r)return;var a=e["t"]*1||0;var o=e["hold"]*1||0;var i=e["cost"]*1||0;var s=e["actual"]*1||0;var l=e["recordcount"]*1||0;if(l==0){n.innerHTML="--"}else{var u=o*(r["price"]-i);var c=a&&u/a||0;n.innerHTML=(c*100).toFixed(2)+"%";n.className=c>0?"cRed":c<0?"cGreen":""}});ntesQuote.addFormatHandler("profit",function(t,e,r,a){if(!a)return;var o=e["hold"]*1||0;var i=e["cost"]*1||0;var s=e["recordcount"]*1||0;var l=o*(a["price"]-i);if(s==0){r.innerHTML="--"}else{r.innerHTML=n.finc_format(l,2);r.className=l>0?"cRed":l<0?"cGreen":"";!isNaN(l)&&r.setAttribute("title",l.toFixed(2)+"\u5143")}});ntesQuote.addFormatHandler("vb",function(t,e,r,a){if(!a)return;var o=e["nav"]*1||0;if(o==0)return;var i=-(o-a["price"])/a["price"];if(i==0){r.innerHTML="--"}else{r.innerHTML=n.finc_format(i*100,2)+"%";r.className=i>0?"cRed":i<0?"cGreen":"";!isNaN(i)&&r.setAttribute("title",i.toFixed(2))}});ntesQuote.addFormatHandler("cje",function(t,e,r,a){if(!a)return;var o=a["turnover"]*1||0;if(o==0){r.innerHTML="--"}else{r.innerHTML=n.finc_format(o,2)}});ntesQuote.addFormatHandler("holdprice",function(t,e,r,a){if(!a)return;var o=a["price"];var i=ntesQuote.find({parent:r.parentNode.parentNode,css:"hold-amount"})[0].innerHTML;!isNaN(o*i)&&(r.title=o*i);r.innerHTML=isNaN(o*i)?"--":n.finc_format(o*i,2)});ntesQuote.addFormatHandler("fnProfit",function(t,e,r,a){if(!a)return;var o=e["hold"]*1||0;var i=e["cost"]*1||0;var s=e["actual"]*1||0;var l=e["recordcount"]*1||0;var u=o*(a["price"]-i)+s;if(l==0){r.innerHTML="--"}else{r.innerHTML=n.finc_format(u,2);r.className=u>0?"cRed":u<0?"cGreen":"";!isNaN(u)&&r.setAttribute("title",u.toFixed(2)+"\u5143")}});ntesQuote.addFormatHandler("fn_jryke",function(t,e,r,a){if(!a)return;var o=e["hold"]*1||0;var i=a["updown"]*1||0;var s=e["recordcount"]*1||0;var l=o*i;if(s==0){r.innerHTML="--"}else{r.innerHTML=n.finc_format(l,2);r.className=l>0?"cRed":l<0?"cGreen":"";!isNaN(l)&&r.setAttribute("title",l.toFixed(2)+"\u5143")}});ntesQuote.addFormatHandler("hsl",function(t,e,r,a){if(!a)return;var o=e["scstc27"]*1||0;var i=a["volume"]*1||0;if(o==0){r.innerHTML="--"}else{var s=i/(o*100);s=n.finc_format(s,2);r.innerHTML=n.finc_format(s,2)+"%";!isNaN(s)&&r.setAttribute("title",s.toFixed(2)+"\u5143")}});ntesQuote.addFormatHandler("syl",function(t,e,r,a){if(!a)return;var o=e["mfsum"]*1||0;var i=a["price"]*1||0;if(o==0){r.innerHTML="--"}else{var s=i/o;s=n.finc_format(s,2);r.innerHTML=n.finc_format(s,2);!isNaN(s)&&r.setAttribute("title",s.toFixed(2))}})}(ntesQuote,ntesQuote.prototype,ntesQuoteDataUtils);if(!window.Recent)window.Recent={};!function(t){var e=/[smhdMy]$/,n={s:1,m:60,h:60*60,d:24*60*60,M:30*24*60*60,y:365*24*60*60};var r={encoder:window.encodeURIComponent,decoder:window.decodeURIComponent,get:function(t,e){var n=r;t=n.encoder(t)+"=";var a=document.cookie,o=a.indexOf(t),i;if(-1===o){return e?undefined:""}o+=t.length;i=a.indexOf(";",o);if(i===-1){i=a.length}return n.decoder(a.substring(o,i))},set:function(t,a,o,i,s,l){var u=r,c=[u.encoder(t)+"="+u.encoder(a)];if(o){var f,d;if(Object.prototype.toString.call(o)==="[object Date]"){f=o}else{if("string"===typeof o&&e.test(o)){o=o.substring(0,o.length-1);d=RegExp.lastMatch}if(!isNaN(o)){f=new Date;f.setTime(f.getTime()+o*n[d||"m"]*1e3)}}f&&c.push("expires="+f.toUTCString())}s&&c.push("path="+s);i&&c.push("domain="+i);l&&c.push("secure");document.cookie=c.join(";")},del:function(t,e,n){document.cookie=r.encoder(t)+"="+(n?";path="+n:"")+(e?";domain="+e:"")+";expires=Thu, 01-Jan-1970 00:00:01 GMT"}};t.HK="hk";t.US="us";t.HS="hs";t.FX="fx";t.FU="fu";t.FN="fn";t.BOND="bond";var a,o,i,s,l,u,c;function f(){this.size=15;this.autoSave=true;this.beanList=[]}f.prototype={formatString:function(){var t=arguments[0];var e=0;for(var n=1;n<arguments.length;n++){var r=arguments[n];if(typeof r=="object"){for(var a in r){t=t.replace(new RegExp("\\{"+a+"\\}","gm"),r[a])}}else{t=t.replace(new RegExp("\\{"+e+"\\}","gm"),r);e++}}return t},getCookieName:function(){alert("getCookieName is not implement")},getDomians:function(){alert("getDomians is not implement")
},encode:function(t){if(t==null)return"";return typeof t=="string"?t:t.toString()},decode:function(t){return t},addBean:function(t){var e=this.encode(t);for(var n=0;n<this.beanList.length;n++){if(this.encode(this.beanList[n])==e){this.beanList.splice(n,1);break}}this.beanList.unshift(t);if(this.beanList.length>this.size){this.beanList.length=this.size}if(this.autoSave){this.save()}},getBeans:function(){return this.beanList},load:function(){var t=r.get(this.getCookieName())||"";var e=t.split("|");this.beanList=[];for(var n=0;n<e.length;n++){if(!e[n])continue;var a=this.decode(e[n]);this.beanList.push(a)}return this},save:function(){var t=[];for(var e=0;e<this.beanList.length;e++){t.push(this.encode(this.beanList[e]))}var n=this.getCookieName();var a=t.join("|");var o=this.getDomians();if(typeof o=="string"){r.set(n,a,365*24*60,o,"/")}else if(o.constructor==Array){for(var e=0;e<o.length;e++){r.set(n,a,365*24*60,o[e],"/")}}else{r.set(n,a,365*24*60)}return this},clear:function(){this.beanList=[];if(this.autoSave){this.save()}}};function d(t,e,n){function r(t,e){for(var n in e)t.prototype[n]=e[n]}if(Object.prototype.toString.call(e)==="[object Object]"){n=e;e=t;t=function(){e.apply(this,arguments)}}var a=function(){};a.prototype=e.prototype;var o=t.prototype=new a;o.constructor=t;r(t,n);return t}var h=d(f,{getCookieName:function(){return"_ntes_hkstock_recent_"},getDomians:function(){return[".money.163.com",".hkquotes.money.163.com",""]},refresh:function(t,e){e=!e?5:e;var n=2,r="";var a=document.getElementById(t);var o='<li class="clearfix">'+'<h2><a class="cDBlue" href="http://'+'quotes.money.163.com/hkstock/{CODE}.html" target="_blank" _ntesquote_="code:hk{CODE};attr:schidesp;fmt:short-name;" '+" >&nbsp</a></h2>"+'<h3><span _ntesquote_="code:hk{CODE};attr:price;fmt:autofix2;fixed:';var i=';color:updown;">--</span></h3>'+'<h4><span _ntesquote_="code:hk{CODE};attr:percent;percent:2;color:updown;">--</span></h4>'+"</li>";var s=this.getBeans();for(var l=0;l<e&&l<s.length;l++){if(s[l]=="HSI"||s[l]=="HSCCI"||s[l]=="HSCEI"||s[l]=="HSF"||s[l]=="HSU"||s[l]=="HSP"||s[l]=="HSC"||s[l]=="VHSI"||s[l]=="GEM"||s[l]=="HKL")n=0;else n=2;r+=this.formatString(o+n+i,{CODE:s[l]})}if(s.length<e){r+='<li class="clearfix hot_title"><span>\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u80a1\u7968</span></li>';var u=["00941","00857","00700","00001","00005","01398"];for(var l=0;l<e-s.length&&l<u.length;l++){r+=this.formatString(o+"2"+i,{CODE:u[l]})}}a&&(a.innerHTML=r)}});var p=d(f,{getCookieName:function(){return"_ntes_usstock_recent_"},getDomians:function(){return[".money.163.com",".usstock.163.com",""]},load:function(){var t=r.get(this.getCookieName());var e=t.split("|");this.beanList=[];for(var n=0;n<e.length;n++){if(!e[n])continue;var a=this.decode(e[n]);this.beanList.push(a)}return this},save:function(){var t=[];for(var e=0;e<this.beanList.length;e++){t.push(this.encode(this.beanList[e]))}var n=this.getCookieName();var a=t.join("|");var o=this.getDomians();if(typeof o=="string"){r.set(n,a,365*24*60,o,"/")}else if(o.constructor==Array){for(var e=0;e<o.length;e++){r.set(n,a,365*24*60,o[e],"/")}}else{r.set(n,a,365*24*60)}return this},refresh:function(t){var e=NE.$("#"+t+">tbody>tr");var n=this.getBeans();for(var r=0;r<e.length&&r<n.length;r++){e[r].cells[0].innerHTML=this.formatString('<a _ntesquote_="code:US_{0};fmt:usname;" target="_blank" href="/usstock/hq/{0}.html#US1a01"></a>',n[r]);e[r].cells[1].innerHTML=this.formatString('<span _ntesquote_="code:US_{0};attr:price;color:updown;fixed:2" />',n[r]);e[r].cells[2].innerHTML=this.formatString('<span _ntesquote_="code:US_{0};attr:percent;percent:2;color:updown;" />',n[r])}}});var m=d(f,{getCookieName:function(){return"_ntes_future_recent_"},getDomians:function(){return[".money.163.com",""]},refresh:function(t){var e=_$("#"+t+" > tbody > tr");var n=this.getBeans();for(var r=0;r<e.length&&r<n.length;r++){var a=n[r];e[r].cells[0].innerHTML=ntesQuote.formatString('<a class="cDBlue" target="_blank" href="http://quotes.money.163.com/futures/hq/{0}.html" _ntesquote_="code:FU_{0};attr:name;">&nbsp;</a>',a);e[r].cells[1].innerHTML=ntesQuote.formatString('<span _ntesquote_="code:FU_{0};attr:price;fixed:2;color:updown;">--</span>',a);e[r].cells[2].innerHTML=ntesQuote.formatString('<span _ntesquote_="code:FU_{0};attr:percent;percent:2;color:updown;">--</span>',a)}}});var g=d(f,{getCookieName:function(){return"_ntes_forex_recent_"},getDomians:function(){return[".money.163.com",".forex.163.com",""]},refresh:function(t){var e=NE.$("#"+t+">tbody>tr");var n=this.getBeans();for(var r=0;r<e.length&&r<n.length;r++){e[r].cells[0].innerHTML=this.formatString('<a _ntesquote_="code:FX_{0};attr:name;before:decode" target="_blank" href="/forex/hq/{0}.html"></a>',n[r]);e[r].cells[1].innerHTML=this.formatString('<span _ntesquote_="code:FX_{0};attr:price;color:updown;fixed:4" />',n[r]);e[r].cells[2].innerHTML=this.formatString('<span _ntesquote_="code:FX_{0};attr:percent;percent:2;color:updown;" />',n[r])}},load:function(){var t=r.get(this.getCookieName());var e=t.split("|");this.beanList=[];for(var n=0;n<e.length;n++){if(!e[n])continue;var a=this.decode(e[n]);this.beanList.push(a)}return this},save:function(){var t=[];for(var e=0;e<this.beanList.length;e++){t.push(this.encode(this.beanList[e]))}var n=this.getCookieName();var a=t.join("|");var o=this.getDomians();if(typeof o=="string"){r.set(n,a,365*24*60,o,"/")}else if(o.constructor==Array){for(var e=0;e<o.length;e++){r.set(n,a,365*24*60,o[e],"/")}}else{r.set(n,a,365*24*60)}return this}});var v=d(f,{getCookieName:function(){return"_ntes_stock_recent_"},getDomians:function(){return[".money.163.com",".quotes.money.163.com",""]},refresh:function(t,e,n){e=!e?10:e;var r=n&&n["sign"]||"";var a=document.getElementById(t),o="";var i='<li class="clearfix">'+'<h2><a class="cDBlue" href="http://quotes.money.163.com/{CODE}.html'+r+'" target="_blank" _ntesquote_="code:{CODE};attr:name;fmt:short-name;">&nbsp</a></h2>'+'<h3><span _ntesquote_="code:{CODE};attr:price;fixed:2;color:updown;">--</span></h3>'+'<h4><span _ntesquote_="code:{CODE};attr:percent;percent:2;color:updown;">--</span></h4>'+"</li>";var s=this.getBeans();for(var l=0;l<e&&l<s.length;l++){o+=this.formatString(i,{CODE:s[l]})}if(s.length<e){o+='<li class="clearfix hot_title"><span>\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u80a1\u7968</span></li>';var u=["0601857","0601600","0601398","0600028","0600019","0601318","0600030","0601939","0601088","0600900","1002024","0600111","0600031","1000002","0600050"];for(var l=0;l<e-s.length&&l<u.length;l++){o+=this.formatString(i,{CODE:u[l]})}}a&&(a.innerHTML=o)}});var y=d(f,{getCookieName:function(){return"_ntes_newfund_recent_"},getDomians:function(){return[".163.com",".quotes.fund.163.com",""]},load:function(){var t=r.get(this.getCookieName());var e=t.split("|");this.beanList=[];for(var n=0;n<e.length;n++){if(!e[n])continue;var a=this.decode(e[n]);this.beanList.push(a)}return this},save:function(){var t=[];for(var e=0;e<this.beanList.length;e++){t.push(this.encode(this.beanList[e]))}var n=this.getCookieName();var a=t.join("|");var o=this.getDomians();if(typeof o=="string"){r.set(n,a,365*24*60,o,"/")}else if(o.constructor==Array){for(var e=0;e<o.length;e++){r.set(n,a,365*24*60,o[e],"/")}}else{r.set(n,a,365*24*60)}return this},refresh:function(t,e,n){var r=r||10;if(!t)return;var a=n&&n["sign"]||"";var o=document.getElementById(t),i="";var s='<li class="clearfix">'+'<h2><a href="http://quotes.money.163.com/fund/{symbol}.html'+a+'" target="_blank" _ntesquote_="code:{symbol};attr:sname;maxlen:4;">--</a></h2>'+'<h3><span _ntesquote_="code:{symbol};attr:nav;fixed:2;color:pchg;">--</span></h3>'+'<h4><span _ntesquote_="code:{symbol};attr:pchg;percent:2;color:pchg;">--</span></h4>'+"</li>";var l=this.getBeans();i='<li class="clearfix"><h2>\u540d\u79f0</h2><h3><span>\u51c0\u503c</span></h3><h4><span>\u589e\u957f\u7387</span></h4></li>';var u=l.length>r?r:l.length;for(var c=0;c<u;c++){i+=this.formatString(s,{symbol:l[c]})}if(l.length<r){var f=r-l.length-1;if(f>0){i+='<li class="clearfix hot_title"><span>\u4ee5\u4e0b\u4e3a\u70ed\u95e8\u57fa\u91d1</span></li>';var d=["000011","121099","377240","470006","110023","240017","470009","020023","270008","519674","213006"];for(var c=0;c<f&&c<d.length;c++){i+=this.formatString(s,{symbol:d[c]})}}}o&&(o.innerHTML=i)}});var b=d(f,{getCookieName:function(){return"_ntes_bond_recent_"},getDomians:function(){return[".163.com",".quotes.fund.163.com",""]},load:function(){var t=r.get(this.getCookieName());var e=t.split("|");this.beanList=[];for(var n=0;n<e.length;n++){if(!e[n])continue;var a=this.decode(e[n]);this.beanList.push(a)}return this},save:function(){var t=[];for(var e=0;e<this.beanList.length;e++){t.push(this.encode(this.beanList[e]))}var n=this.getCookieName();var a=t.join("|");var o=this.getDomians();if(typeof o=="string"){r.set(n,a,365*24*60,o,"/")}else if(o.constructor==Array){for(var e=0;e<o.length;e++){r.set(n,a,365*24*60,o[e],"/")}}else{r.set(n,a,365*24*60)}return this},refresh:function(t,e,n){var r=r||10;if(!t)return;var a=n&&n["sign"]||"";var o=document.getElementById(t),i="";var s='<li class="clearfix">'+'<h2><a href="http://quotes.money.163.com/bond/{code}.html'+a+'" target="_blank" _ntesquote_="code:{symbol};attr:name;maxlen:4;">--</a></h2>'+'<h3><span _ntesquote_="code:{symbol};attr:price;fixed:2;color:percent;">--</span></h3>'+'<h4><span _ntesquote_="code:{symbol};attr:percent;percent:2;color:percent;">--</span></h4>'+"</li>";var l=this.getBeans();i='<li class="clearfix"><h2>\u540d\u79f0</h2><h3><span>\u4ef7\u683c</span></h3><h4><span>\u589e\u957f\u7387</span></h4></li>';var u=l.length>r?r:l.length;for(var c=0;c<u;c++){i+=this.formatString(s,{symbol:l[c],code:l[c].substr(1)})}o&&(o.innerHTML=i)}});function _(e){function n(t,e){var n=0,r="";for(var a=0,o=t.length;a<o;a++){_tmplen=n+(/[\u4E00-\u9FA5\uF900-\uFA2D]/.test(t.charAt(a))?2:1);if(_tmplen>e){return r}else{r+=t.charAt(a);n=_tmplen}}return r}switch(e){case t.HK:if(!a){ntesQuote.addFormatHandler("short-name",function(t,e,r,a){if(!a||a["schidesp"]==null||a["schidesp"]==""){return}if(a["schidesp"]==null||a["schidesp"]==""){return}var o=n(a["schidesp"],8);r.innerHTML=o;r.setAttribute("title",a["schidesp"])});ntesQuote.addFormatHandler("autofix2",function(t,e,n,r){if(!r)return;n.className=r["updown"]>0?"cRed":r["updown"]<=0?"cGreen":"";if(r["suspend"]=="Y"){n.innerHTML="\u505c\u724c";n.className=""}else{if(r[e["attr"]]){if(Math.abs(r[e["attr"]])>1){if(r[e["attr"]]>999){n.innerHTML=r[e["attr"]].toFixed(0)}else{n.innerHTML=r[e["attr"]].toFixed(2)}}else{n.innerHTML=r[e["attr"]].toFixed(3)}}else{n.innerHTML=0}}});a=new h}return a;break;case t.HS:if(!o){ntesQuote.addFormatHandler("short-name",function(t,e,r,a){if(!a||a["name"]==null||a["name"]==""){return}if(a["name"]==null||a["name"]==""){return}var o=n(a["name"],8);r.innerHTML=o});o=new v}return o;break;case t.FU:if(!i){i=new m}return i;break;case t.FN:if(!s){ntesQuote.addFormatHandler("remove-item",function(t,e,n,r){var a=n.parentNode.parentNode;if(r){n.innerHTML=r["name"]}});s=new y}return s;break;case t.FX:if(!l){l=new g}return l;break;case t.US:if(!u){ntesQuote.addFormatHandler("usname",function(t,e,n,r){if(!r)return;n.innerHTML=r["name"]?r["name"].substr(0,5):r["symbol"]});u=new p}return u;break;case t.BOND:if(!c){c=new b}return c;break}}t.addBean=function(t,e,n,r){var a=_(n);a.load();a.addBean(t);a.refresh(e,r);ntesQuote.loadData();return a};t.addBeanOnly=function(t,e){var n=_(e);n.load();n.addBean(t);return n};t.load=function(t,e,n,r){var a=_(e);a.load();a.refresh(t,n,r);ntesQuote.loadData();return a};t.loadMetas=function(t,e,n){var r=_(e);r.load();r.refresh(t,n);return r}}(window.Recent);var myStockList={pageType:"hs",find:function(t){var e=t.css,n=t.attr,r=t.attrValue,a=[];var o=t.parent||document;var i=o.getElementsByTagName(t.tag||"*");var s=new RegExp("(^|\\s)"+e+"(\\s|$)");for(var l=0,u=i.length;l<u;l++){var c=i[l];if(e&&c.className!=e&&!c.className.match(s))continue;if(n&&!r&&!c.getAttribute(n))continue;if(n&&r&&c.getAttribute(n)!=r)continue;a.push(c)}return a},importJs:function(t,e,n){var r=document.getElementsByTagName("head")[0]||document.documentElement;var a=document.createElement("script");a.type="text/javascript";e&&(a.charset=e);var o=false;a.onload=a.onreadystatechange=function(){if(!o&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){o=true;if(typeof n=="function"){n()}r.removeChild(this)}};a.src=t;r.insertBefore(a,r.firstChild)},format:function(t,e){var n=arguments;var r=/{(.+?)}/g;if(typeof e=="object"){if(Object.prototype.toString.call(e)==="[object Array]"){var a="";for(var o=0;o<e.length;o++){a+=myStockList.format(t,e[o])}return a}var a=t.replace(r,function(t,n){return e[n]==undefined?t:e[n]});return a.replace(r,"--")}else{return t.replace(r,function(t,e){return n[parseInt(e)+1]==undefined?t:n[parseInt(e)+1]})}},bindEvent:function(t,e,n){if(t.addEventListener){t.addEventListener(e,n,false)}else if(t.attachEvent){t.attachEvent("on"+e,n)}else{t["on"+e]=n}},initList:function(t,e,n,r,a,o,i){myStockList["total"]=e||6;myStockList["notLoginTotal"]=o["notLoginTotal"]||6;o=o||{},i=i||{};o["sign"]=o["sign"]||"";r=r||"";t=typeof t=="string"?document.getElementById(t):t;var s="_mystock_list_load_"+myStockList.random();var l=i["table"]||'<table id="mystock_table" class="'+r+'"><thead><tr><th class="col-01">\u540d\u79f0</th><th class="col-02">\u6700\u65b0\u4ef7</th><th class="col-03">\u6da8\u8dcc\u5e45</th></tr></thead><tbody>';var u=i["tr"]||'<tr class="{alter}"><td class="col-01"><a href="http://quotes.money.163.com/{code}.html'+o["sign"]+'" target="_blank" _ntesquote_="code:{code};attr:name;maxlen:4;sign:'+o["sign"]+';">--</a></td><td class="col-02"><span _ntesquote_="code:{code};attr:price;fixed:2;color:updown">--</span></td><td class="col-03"><span _ntesquote_="code:{code};attr:percent;percent:2;color:updown">--</span></td></tr>';var c=i["hotTrTpl"]||'<tr class="{alter}"><td class="col-01"><a href="http://quotes.money.163.com/{code}.html'+o["sign"]+'" target="_blank" _ntesquote_="code:{code};attr:name;maxlen:4;sign:'+o["sign"]+';">--</a></td><td class="col-02"><span _ntesquote_="code:{code};attr:price;fixed:2;color:updown">--</span></td><td class="col-03"><span _ntesquote_="code:{code};attr:percent;percent:2;color:updown">--</span></td></tr>';var f='<tr class="{alter}"><td class="col-01"><a href="http://quotes.money.163.com/hkstock/{symbol}.html'+o["sign"]+'" target="_blank" _ntesquote_="code:{code};attr:schidesp;maxlen:4;">--</a></td><td class="col-02"><span _ntesquote_="code:{code};attr:price;fixed:2;color:updown">--</span></td><td class="col-03"><span _ntesquote_="code:{code};attr:percent;percent:2;color:updown">--</span></td></tr>';var d='<div id="logoutarea"><form style="width:100%"method="post"target="_self"action="https://reg.163.com/logins.jsp"onsubmit="return myStockList.check_login(this)"><table width="100%"border="0"cellspacing="5"cellpadding="0"style=" border-collapse:separate;border-spacing: 5px;"><thead style="display:none"><tr><td width="50%"></td><td width="50%"></td></tr></thead><tbody><tr><td align="right">\u7528\u6237\u540d</td><td><input style="width:100px"name="username"value=""type="text"class="zxginput02"></td></tr><tr><td align="right">\u5bc6&nbsp;&nbsp;\u7801</td><td><input style="width:100px"name="password"value=""type="password"class="zxginput02"></td></tr><tr><td>&nbsp;</td><td><input type="submit"value="\u767b\u5f55"class="login-button"style="width:40px;"><a href="http://reg.163.com/RecoverPasswd1.shtml"target="_blank"title="\u5fd8\u8bb0\u5bc6\u7801">\u5fd8\u8bb0\u5bc6\u7801</a></td></tr><tr><td>&nbsp;</td><td colspan="2"><a href="http://reg.163.com/reg/reg0_new.jsp"target="_blank"title="\u6ce8\u518c\u7f51\u6613\u901a\u884c\u8bc1"class="cDGray">\u6ce8\u518c\u7f51\u6613\u901a\u884c\u8bc1</a><input type="hidden"name="type"value="1"><input type="hidden"name="domains"value=""><input type="hidden"name="url"value=""><input type="hidden"name="product"value="content"><input name="savelogin"type="checkbox"checked="checked"value="1"style="display: none"></td></tr></tbody></table></form></div>';var h=i["hotInfo"]||'<tr class="hotstocks-tit"><td colspan="3">\u70ed\u95e8\u80a1\uff1a</td></tr>';var p=i["trClass"]||"alter";if(myStockList.pageType==="fund"){l=i["table"]||'<table id="myfund_table" class="'+r+'"><thead><tr><th class="col-01">\u540d\u79f0</th><th class="col-02">\u51c0\u503c</th><th class="col-03">\u589e\u957f\u7387</th></tr></thead><tbody>';u=i["tr"]||'<tr class="{alter}"><td class="col-01"><a href="http://quotes.money.163.com/fund/{symbol}.html'+o["sign"]+'" target="_blank" _ntesquote_="code:{symbol};attr:sname;maxlen:4;sign:'+o["sign"]+';">--</a></td><td class="col-02"><span _ntesquote_="code:{symbol};attr:nav;fixed:2;color:pchg">--</span></td><td class="col-03"><span _ntesquote_="code:{symbol};attr:pchg;percent:2;color:pchg">--</span></td></tr>'}var m=i["atl"]=i["atl"]||"<span>\u5df2\u5173\u6ce8</span>";myStockList.tpl=i;window[s]=function(r){var o=r.success;if(o){myStockList["total"]=e;var s=r.data.stocks,m=l;myStockList["stocks"]=r.data.stocks;var g=s.length<myStockList["total"]?s.length:myStockList["total"];for(var v=0;v<g;v++){if(v%2==0)s[v]["alter"]=p;else s[v]["alter"]="";s[v]["_followed"]="followed";s[v]["_stockhot"]="my";if(myStockList.pageType=="hk"){s[v]["code"]="hk"+s[v]["code"];u=f}if(s[v].type1&&s[v].type1==="OUTSIDE"){u=i["tr_outside"]||u}m+=myStockList.format(u,s[v])}var y=myStockList["total"]-g-1;if(y>0){var b=r.data.hotStocks;var _=r.data.stocks;m+=h,y=y>b.length?b.length:y;for(var v=0;v<y;v++){var T=false;if(v%2!=0)b[v]["alter"]=p;else b[v]["alter"]="";if(b[v]["followed"]==true){b[v]["_followed"]="followed"}else{b[v]["_followed"]=""}b[v]["_stockhot"]="hot";u=i["tr_outside"]||u;if(myStockList.pageType=="hk"){b[v]["code"]="hk"+b[v]["code"];u=f}for(var k=0,w=_.length;k<w;k++){if(_[k].code==b[v].code){T=true;y++;continue}}!T&&(m+=myStockList.format(c,b[v]))}}m+="</tbody></table>";t.innerHTML=m;if(i){ntesQuote.loadData()}if(typeof a=="function"){a(r)}}else{if(n){t.innerHTML=d}else{var m=l+h;var s=r.data.hotStocks;var g=s.length<myStockList["notLoginTotal"]?s.length:myStockList["notLoginTotal"];for(var v=0;v<g;v++){if(v%2!=0)s[v]["alter"]=p;else s[v]["alter"]="";if(myStockList.pageType=="hk"){s[v]["code"]="hk"+s[v]["code"];u=f}m+=myStockList.format(c,s[v])}t.innerHTML=m+"</tbody></table>"}}if(ntesQuote.version&&ntesQuote.version>1){ntesQuote.loadData("mystock_table",5e3)}else{setTimeout(function(){ntesQuote.refresh().loadData(5e3)},500)}};myStockList.importJs("http://i.money.163.com/"+myStockList.pageType+"/api/myStockList.json?size="+myStockList["total"]+"&callback="+s,"utf-8")},check_login:function(t){t["url"].value=location.href;if(!t["username"].value||!t["password"].value){alert("\u8bf7\u586b\u5199\u5b8c\u6574\u7684\u7528\u6237\u540d\u4e0e\u5bc6\u7801.");return false}return true},random:function(){return parseInt(Math.random()*1e8)},checkMyStocks:function(t,e){var n=myStockList.find({tag:"a",css:t||"add-mystock"});function r(t){var n=t.getAttribute("data-code");var r="callback_"+myStockList.random();window[r]=function(n){if(n.success){if(n.data){t.className=t.className+" "+"has-followed";t.innerHTML=myStockList.tpl["atl"];t.onclick=function(t){var t=t||window.event;t.preventDefault&&t.preventDefault();t.returnValue=false}}else{myStockList.bindEvent(t,"click",function(n){var n=n||window.event;n.preventDefault&&n.preventDefault();n.returnValue=false;if(t.className.indexOf("has-followed")!=-1||t.processing)return;t.processing=true;var r=t.getAttribute("data-code");var a="callback_"+myStockList.random();window[a]=function(n){if(n.success){t.className=t.className+" "+"has-followed";t.innerHTML=myStockList.tpl["atl"]||"<span>\u5df2\u5173\u6ce8</span>";e.callback&&e.callback();return}t.processing=false};myStockList.importJs("http://i.money.163.com/"+myStockList.pageType+"/api/followToDefault?code="+r+"&callback="+a,"utf-8")})}}else{myStockList.bindEvent(t,"click",function(t){var t=t||window.event;t.preventDefault&&t.preventDefault();t.returnValue=false;alert("\u767b\u5f55\u7528\u6237\u624d\u53ef\u4ee5\u6dfb\u52a0\u81ea\u9009\u80a1\uff0c\u8bf7\u5148\u767b\u5f55\uff01")})}t.style.display="block"};myStockList.importJs("http://i.money.163.com/"+myStockList.pageType+"/api/checkFollowed.json?code="+n+"&callback="+r,"utf-8")}for(var a=0;a<n.length;a++){r(n[a])}}};function _importJs(t,e,n,r){var a=document.getElementsByTagName("head")[0]||document.documentElement;var o=document.createElement("script");o.src=t;o.type="text/javascript";if(e){o.setAttribute("charset",e)}var i=false;o.onload=o.onreadystatechange=function(){if(!i&&(!this.readyState||this.readyState=="loaded"||this.readyState=="complete")){i=true;if(typeof n=="function"){n(r)}a.removeChild(this)}};a.insertBefore(o,a.firstChild)}function _formatString(t){for(var e=1;e<arguments.length;e++){t=t.replace(new RegExp("\\{"+(e-1)+"\\}","gm"),arguments[e])}return t}if(typeof console=="undefined"){window.console={};console.info=function(t){};console.debug=function(){};console.error=function(){}}if(typeof bsn=="undefined"){_b=bsn={}}if(typeof _b.Autosuggest=="undefined"){_b.Autosuggest={}}_b.jOffset={};!function(t){t.init=function(){var e=document.body,n=document.createElement("div"),r,a,o,i,s=0,l="<div style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;'><div></div></div><table style='position:absolute;top:0;left:0;margin:0;border:5px solid #000;padding:0;width:1px;height:1px;' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>";var u={position:"absolute",top:0,left:0,margin:0,border:0,width:"1px",height:"1px",visibility:"hidden"};for(var c in u){n.style[c]=u[c]}n.innerHTML=l;e.insertBefore(n,e.firstChild);r=n.firstChild;a=r.firstChild;i=r.nextSibling.firstChild.firstChild;this.doesNotAddBorder=a.offsetTop!==5;this.doesAddBorderForTableAndCells=i.offsetTop===5;a.style.position="fixed",a.style.top="20px";this.supportsFixedPosition=a.offsetTop===20||a.offsetTop===15;a.style.position=a.style.top="";r.style.overflow="hidden",r.style.position="relative";this.subtractsBorderForOverflowNotVisible=a.offsetTop===-5;this.doesNotIncludeMarginInBodyOffset=e.offsetTop!==s;e.removeChild(n);e=n=r=a=o=i=null;t.init=function(){}};t.supportCheck=function(){var e=document.createElement("div");e.style.width=e.style.paddingLeft="1px";document.body.appendChild(e);this.support_boxModel=e.offsetWidth===2;document.body.removeChild(e).style.display="none";e=null;t.supportCheck=function(){}};if("getBoundingClientRect"in document.documentElement){t.supportCheck();t.offset=function(e){var n=typeof e=="string"?document.getElementById(e):e;var r=n.getBoundingClientRect(),a=n.ownerDocument,o=a.body,i=a.documentElement,s=i.clientTop||o.clientTop||0,l=i.clientLeft||o.clientLeft||0,u=r.top+(self.pageYOffset||t.support_boxModel&&i.scrollTop||o.scrollTop)-s,c=r.left+(self.pageXOffset||t.support_boxModel&&i.scrollLeft||o.scrollLeft)-l;return{top:u,left:c}}}else{t.init();t.offset=function(e){var n=typeof e=="string"?document.getElementById(e):e;console.info(n);var r=n.offsetParent,a=n,o=n.ownerDocument,i,s=o.documentElement,l=o.body,u=o.defaultView,c=u?u.getComputedStyle(n,null):n.currentStyle,f=n.offsetTop,d=n.offsetLeft;while((n=n.parentNode)&&n!==l&&n!==s){if(t.supportsFixedPosition&&c.position==="fixed"){break}i=u?u.getComputedStyle(n,null):n.currentStyle;f-=n.scrollTop;d-=n.scrollLeft;if(n===r){f+=n.offsetTop;d+=n.offsetLeft;if(t.doesNotAddBorder&&!(t.doesAddBorderForTableAndCells&&/^t(able|d|h)$/i.test(n.nodeName))){f+=parseFloat(i.borderTopWidth)||0;d+=parseFloat(i.borderLeftWidth)||0}a=r,r=n.offsetParent}if(t.subtractsBorderForOverflowNotVisible&&i.overflow!=="visible"){f+=parseFloat(i.borderTopWidth)||0;d+=parseFloat(i.borderLeftWidth)||0}c=i}if(c.position==="relative"||c.position==="static"){f+=l.offsetTop;d+=l.offsetLeft}if(t.supportsFixedPosition&&c.position==="fixed"){f+=Math.max(s.scrollTop,l.scrollTop);d+=Math.max(s.scrollLeft,l.scrollLeft)}return{top:f,left:d}}}}(_b.jOffset);_b.AutoSuggest=function(t){if(!document.getElementById)return 0;id=t["inputid"];this.fld=_b.DOM.gE(id);if(!this.fld)return 0;_this=this;this.sInp="";this.nInpC=0;this.aSug=[];this.iHigh=0;this.isSelected=false;t["sign"]=t["sign"]||"";this.oP=t?t:{};t["callback"]=t["callback"]||function(n){typeMap={SH:"http://quotes.money.163.com/0{0}.html"+t["sign"],SZ:"http://quotes.money.163.com/1{0}.html"+t["sign"],HK:"http://quotes.money.163.com/hkstock/{0}.html"+t["sign"],FX:"http://quotes.money.163.com/forex/hq/{0}.html"+t["sign"],US:"http://quotes.money.163.com/usstock/hq/{0}.html"+t["sign"],FN:"http://quotes.fund.163.com/html/{0}.html"+t["sign"],FU:"http://quotes.money.163.com/futures/hq/{0}.html"+t["sign"],IDX:"http://quotes.money.163.com/{0}.html"+t["sign"],URL:"{0}"};url=typeMap[n["type"]].replace("{0}",e(n));window.open(url)};function e(t){var e=t["symbol"];if(t["type"]=="IDX"){if(e.substring(0,1)=="0"){return"0"+e}else{return"1"+e}}if(t["type"]=="URL"){e=t["url"]}console.log(e);return e}var n,r={minchars:1,meth:"get",varname:"input",className:"autosuggest",timeout:2500,delay:300,offsety:-5,shownoresults:false,noresults:"-",maxheight:250};for(n in r){if(typeof this.oP[n]!=typeof r[n])this.oP[n]=r[n]}var a=this;var o=this,i=null,s=false;this.fld.onkeypress=function(t){return a.onKeyPress(t)};this.fld.onkeyup=function(t){s=true;return a.onKeyUp(t)};this.fld.onkeydown=function(t){return a.onKeyDown(t)};this.fld.onfocus=function(){if(a.fld.value==a.oP["tooltip"]){a.fld.value=""}};function l(t){a.resetTimeout();for(var e=t.target||t.srcElement,n=document.getElementById("as_sc_suggest_key");e;){if(e==n||e==_this.fld)return;e=e.parentNode}if(a.fld.value==""){a.fld.value=a.oP["tooltip"]}else{setTimeout(function(){if(!window._stockSugPointer)return;if(_this.isSelected==false){window._stockSugPointer.setHighlight(1);window._stockSugPointer.setHighlightedValue()}},200)}setTimeout(function(){if(navigator.userAgent.indexOf("MSIE")>0){document.attachEvent("onclick",l)}else{document.addEventListener("click",l,false)}},200)}this.fld.setAttribute("autocomplete","off");var u=_b.DOM.gE("stock-search-hotword");_importJs("http://api.money.126.net/data/feed/SUI_JI_LIAN_JIE?callback=_ntes_quote_callback_search_hotword","");u.onclick=function(t){a.fld.value=this.getAttribute("data-hot-words");a.getSuggestions(a.fld.value);u.style.display="none"}};window._ntes_quote_callback_search_hotword=function(t){var e=_b.DOM.gE("stock-search-hotword");if(e){e.setAttribute("data-hot-words",t.SUI_JI_LIAN_JIE.name)}};_b.AutoSuggest.prototype.onKeyPress=function(t){var e=window.event?window.event.keyCode:t.keyCode;var n=13;var r=9;var a=27;var o=38;var i=40;var s=1;switch(e){case n:this.setHighlightedValue();s=0;break;case a:this.clearSuggestions();break}return s};_b.AutoSuggest.prototype.onKeyDown=function(t){var e=window.event?window.event.keyCode:t.keyCode;var n=13;var r=9;var a=27;var o=38;var i=40;var s=1;switch(e){case o:this.changeHighlight(e);s=0;break;case i:this.changeHighlight(e);s=0;break}return s};_b.AutoSuggest.prototype.onKeyUp=function(t){var e=window.event?window.event.keyCode:t?t.keyCode:null;var n=38;var r=40;var a=1;switch(e){default:this.getSuggestions(this.fld.value)}return a};_b.AutoSuggest.prototype.getSuggestions=function(t){if(t==this.sInp)return 0;_this.isSelected=false;this.sInp=t;if(t.length<this.oP.minchars){this.aSug=[];this.nInpC=t.length;this.resetTimeout();return 0}var e=this.nInpC;this.nInpC=t.length?t.length:0;{var n=this;var r=this.sInp;clearTimeout(this.ajID);this.ajID=setTimeout(function(){n.doAjaxRequest(r)},this.oP.delay)}return false};window._ntes_stocksearch_callback=function(t){var e=window._stockSugPointer;e.aSug=[];for(var n=0;n<t.length;n++){var r=t[n];e.aSug.push({symbol:r["symbol"],name:r["name"],spell:r["spell"],type:r["type"],url:r["url"]})}e.idAs="as_"+e.fld.id;e.createList(e.aSug)};_b.AutoSuggest.prototype.doAjaxRequest=function(t){if(t!=this.fld.value){return false}window._stockSugPointer=this;_importJs("http://quotes.money.163.com/stocksearch/json.do?type="+this.oP.getType()+"&count="+this.oP["max"]+"&word="+encodeURIComponent(t)+"&t="+Math.random(),"gbk")};_b.AutoSuggest.prototype.createList=function(t){var e=this;var n=this.fld.value;_b.DOM.remE(this.idAs);this.killTimeout();if(t.length==0&&!this.oP.shownoresults){return false}var r={SH:"\u4e0a\u6d77",SZ:"\u6df1\u5733",HK:"\u6e2f\u80a1",FX:"\u5916\u6c47",US:"\u7f8e\u80a1",FU:"\u671f\u8d27",FN:"\u57fa\u91d1",IDX:"\u6307\u6570",URL:"\u94fe\u63a5"};var a=_b.DOM.cE("div",{id:this.idAs,className:"tcbox"});var o=[];o.push('<table class="tbText">');o.push("<thead><th>\u4ee3\u7801</th><th>\u540d\u79f0</th><th>\u62fc\u5199</th><th>\u7c7b\u578b</th></thead>");o.push("<tbody>");var i=new RegExp(n.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1"),"i");var s='<span class="cRed">'+n.toUpperCase()+"</span>";for(var l=0;l<t.length;l++){var u=t[l]["symbol"];var c=t[l]["name"];if(c.length>8)c=c.substring(0,8);var f=t[l]["spell"];if(f.length>9)f=f.substring(0,9);var d=t[l]["type"];o.push(_formatString('<tr style="cursor:pointer" onclick="window._stockSugPointer.setHighlightedValue();" onmouseover="window._stockSugPointer.setHighlight({0});" title="{1}">',l+1,t[l]["name"]));o.push(_formatString("<td>{0}</td>",u.replace(i,s)));o.push(_formatString("<td>{0}</td>",c.replace(i,s)));o.push(_formatString("<td>{0}</td>",f.replace(i,s)));o.push(_formatString("<td>{0}</td>",r[d]));o.push("</tr>")}o.push("</tbody>");o.push("</table>");a.innerHTML=o.join("");var h=null;if(this.oP["parentid"]){h=document.getElementById(this.oP["parentid"])}if(!h){h=document.getElementsByTagName("body")[0]}h.appendChild(a);var p=_b.jOffset.offset(this.oP["posElem"]||this.fld);var m=this.oP["posAlign"]||"bottom";if(m=="top"){a.style.left=p.left+"px";a.style.top=p.top-a.offsetHeight-10+"px"}else{a.style.left=p.left+"px";a.style.top=p.top+this.fld.offsetHeight+this.oP.offsety+"px"}this.iHigh=0};_b.AutoSuggest.prototype.changeHighlight=function(t){if(!_b.DOM.gE(this.idAs))return;var e=_b.DOM.gE(this.idAs).getElementsByTagName("tbody")[0];if(!e)return false;var n;if(t==40)n=this.iHigh+1;else if(t==38)n=this.iHigh-1;if(n>e.childNodes.length)n=e.childNodes.length;if(n<1)n=1;this.setHighlight(n)};_b.AutoSuggest.prototype.setHighlight=function(t){if(!_b.DOM.gE(this.idAs))return;var e=_b.DOM.gE(this.idAs).getElementsByTagName("tbody")[0];if(!e)return false;if(this.iHigh>0)this.clearHighlight();this.iHigh=Number(t);e.childNodes[this.iHigh-1].className="alter";this.killTimeout()};_b.AutoSuggest.prototype.clearHighlight=function(){if(!_b.DOM.gE(this.idAs))return;var t=_b.DOM.gE(this.idAs).getElementsByTagName("tbody")[0];if(!t)return false;if(this.iHigh>0){t.childNodes[this.iHigh-1].className="";this.iHigh=0}};_b.AutoSuggest.prototype.setHighlightedValue=function(){var t=null;if(this.iHigh){t=this.aSug[this.iHigh-1];this.sInp=this.fld.value=t["symbol"];_this.isSelected=true}else{if(this.aSug.length==1){t=this.aSug[0]}}if(t){if(typeof this.oP.callback=="function"){this.clearSuggestions();this.oP.callback(t)}}};_b.AutoSuggest.prototype.killTimeout=function(){clearTimeout(this.toID)};_b.AutoSuggest.prototype.resetTimeout=function(){clearTimeout(this.toID);var t=this;this.toID=setTimeout(function(){t.clearSuggestions()},100)};_b.AutoSuggest.prototype.clearSuggestions=function(){this.killTimeout();var t=_b.DOM.gE(this.idAs);var e=this;if(t){var n=new _b.Fader(t,1,0,250,function(){_b.DOM.remE(e.idAs)})}};ntesStockSuggest=_b.AutoSuggest;if(typeof _b.DOM=="undefined")_b.DOM={};_b.DOM.cE=function(t,e,n,r){var a=document.createElement(t);if(!a)return 0;for(var o in e)a[o]=e[o];var i=typeof n;if(i=="string"&&!r)a.appendChild(document.createTextNode(n));else if(i=="string"&&r)a.innerHTML=n;else if(i=="object")a.appendChild(n);return a};_b.DOM.gE=function(t){var e=typeof t;if(e=="undefined")return 0;else if(e=="string"){var n=document.getElementById(t);if(!n)return 0;else if(typeof n.appendChild!="undefined")return n;else return 0
}else if(typeof t.appendChild!="undefined")return t;else return 0};_b.DOM.remE=function(t){var e=this.gE(t);if(!e)return 0;else if(e.parentNode.removeChild(e))return true;else return 0};_b.DOM.getPos=function(t){var t=this.gE(t);var e=t;var n=0;if(e.offsetParent){while(e.offsetParent){n+=e.offsetLeft;e=e.offsetParent}}else if(e.x)n+=e.x;var e=t;var r=0;if(e.offsetParent){while(e.offsetParent){r+=e.offsetTop;e=e.offsetParent}}else if(e.y)r+=e.y;return{x:n,y:r}};if(typeof _b.Fader=="undefined")_b.Fader={};_b.Fader=function(t,e,n,r,a){if(!t)return 0;this.e=t;this.from=e;this.to=n;this.cb=a;this.nDur=r;this.nInt=50;this.nTime=0;var o=this;this.nID=setInterval(function(){o._fade()},this.nInt)};_b.Fader.prototype._fade=function(){this.nTime+=this.nInt;var t=Math.round(this._tween(this.nTime,this.from,this.to,this.nDur)*100);var e=t/100;if(this.e.filters){try{this.e.filters.item("DXImageTransform.Microsoft.Alpha").opacity=t}catch(n){this.e.style.filter="progid:DXImageTransform.Microsoft.Alpha(opacity="+t+")"}}else{this.e.style.opacity=e}if(this.nTime==this.nDur){clearInterval(this.nID);if(this.cb!=undefined)this.cb()}};_b.Fader.prototype._tween=function(t,e,n,r){return e+(n-e)*(t/r)};